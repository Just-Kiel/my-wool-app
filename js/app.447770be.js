(function(){"use strict";var e={3367:function(e,o,t){var r=t(9963),n=t(6252);const a=(0,n.Uk)("Accueil"),l=(0,n.Uk)(" | "),i=(0,n.Uk)("A propos"),s=(0,n.Uk)(" | "),c=(0,n.Uk)("Profil"),u=(0,n.Uk)("Se connecter");function p(e,o,t,r,p,d){const m=(0,n.up)("router-link"),h=(0,n.up)("router-view"),w=(0,n.up)("Contact");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",null,[(0,n.Wm)(m,{to:"/my-wool-app/"},{default:(0,n.w5)((()=>[a])),_:1}),l,(0,n.Wm)(m,{to:"/my-wool-app/about"},{default:(0,n.w5)((()=>[i])),_:1}),s,void 0!=p.userID?((0,n.wg)(),(0,n.j4)(m,{key:0,to:"/my-wool-app/profile"},{default:(0,n.w5)((()=>[c])),_:1})):((0,n.wg)(),(0,n.j4)(m,{key:1,to:"/my-wool-app/login"},{default:(0,n.w5)((()=>[u])),_:1}))]),(0,n.Wm)(h),(0,n.Wm)(w)],64)}var d=t(3577);const m=e=>((0,n.dD)("data-v-1961d7aa"),e=e(),(0,n.Cn)(),e),h={id:"contact"},w=m((()=>(0,n._)("h1",null,"Contact",-1))),g=["href"],_=["src","alt"];function f(e,o,t,r,a,l){return(0,n.wg)(),(0,n.iD)("div",h,[w,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.links,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e},[(0,n._)("a",{href:e.url},[(0,n._)("img",{src:e.img,alt:e.index},null,8,_),(0,n.Uk)(" "+(0,d.zw)(e.index),1)],8,g)])))),128))])}var v={name:"ContactPage",props:{},data(){return{links:[{index:"Github",url:"https://github.com/Just-Kiel",img:"https://github.githubassets.com/favicons/favicon-dark.png"},{index:"Instagram",url:"https://www.instagram.com/_just_kiel_",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/32px-Instagram_icon.png"},{index:"Linkedin",url:"https://www.linkedin.com/in/aurore-lafaurie-68636b197/",img:"https://static-exp1.licdn.com/sc/h/90y3av2ns08iojcadywbxioqh"}]}}},j=t(3744);const b=(0,j.Z)(v,[["render",f],["__scopeId","data-v-1961d7aa"]]);var k=b,y={name:"App",data(){return{userID:localStorage.getItem("userID")}},components:{Contact:k}};const S=(0,j.Z)(y,[["render",p]]);var C=S,P=t(2119);const D=(0,n._)("h1",null,"Bienvenue !",-1),U=(0,n.Uk)("+ Créer un projet"),V={key:0,class:"projects"},W=(0,n._)("h2",null,"Mes projets :",-1);function I(e,o,t,r,a,l){const i=(0,n.up)("i-button"),s=(0,n.up)("Modal"),c=(0,n.up)("Liste");return(0,n.wg)(),(0,n.iD)(n.HY,null,[D,(0,n.Wm)(i,{color:"secondary",onClick:o[0]||(o[0]=e=>a.visible=!0)},{default:(0,n.w5)((()=>[U])),_:1}),(0,n.Wm)(s,{modelValue:a.visible,"onUpdate:modelValue":o[1]||(o[1]=e=>a.visible=e)},null,8,["modelValue"]),null!=a.allProjects[0]?((0,n.wg)(),(0,n.iD)("div",V,[W,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.checkProjects,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"project",key:e},[(0,n.Wm)(c,{onDelete:o=>l.visibilityHidden(e.idProject),id:e.idProject,project_name:e.nameProject,project_description:e.descriptionProject,project_id:e.idProject},null,8,["onDelete","id","project_name","project_description","project_id"])])))),128))])):(0,n.kq)("",!0)],64)}const O=(0,n.Uk)(" Créer un nouveau projet "),N=(0,n._)("br",null,null,-1),A=(0,n._)("br",null,null,-1),x=(0,n.Uk)("Création");function z(e,o,t,r,a,l){const i=(0,n.up)("i-input"),s=(0,n.up)("i-button"),c=(0,n.up)("i-form-group"),u=(0,n.up)("i-modal");return(0,n.wg)(),(0,n.j4)(u,{modelValue:e.visible,"onUpdate:modelValue":o[2]||(o[2]=o=>e.visible=o)},(0,n.Nv)({header:(0,n.w5)((()=>[O])),default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{modelValue:a.nameProject,"onUpdate:modelValue":o[0]||(o[0]=e=>a.nameProject=e),placeholder:"Nom du projet..."},null,8,["modelValue"]),N,(0,n.Wm)(i,{modelValue:a.descriptionProject,"onUpdate:modelValue":o[1]||(o[1]=e=>a.descriptionProject=e),placeholder:"Description du projet..."},null,8,["modelValue"]),A,(0,n.Wm)(s,{color:"secondary",placement:"right",onClick:l.createProject},{default:(0,n.w5)((()=>[x])),_:1},8,["onClick"])])),_:1})])),_:2},[void 0!=a.pseudo?{name:"footer",fn:(0,n.w5)((()=>[(0,n.Uk)(" My Wool App - "+(0,d.zw)(a.pseudo),1)])),key:"0"}:void 0]),1032,["modelValue"])}var J={name:"Modal",data(){return{pseudo:localStorage.pseudo,nameProject:"",descriptionProject:"",countProject:localStorage.count}},props:{},methods:{close(){this.$emit("close")},createProject:function(){void 0==this.countProject?(this.countProject=0,localStorage.setItem("count",this.countProject)):(this.countProject++,localStorage.setItem("count",this.countProject));var e="project_"+this.countProject;let o='{ "idProject": '+this.countProject+', "nameProject": "'+this.nameProject+'", "descriptionProject": "'+this.descriptionProject+'", "subparts": []}';localStorage.setItem(e,o)}},computed:{validatedFields:function(){return""!=this.nameProject&&""!=this.descriptionProject}}};const M=(0,j.Z)(J,[["render",z]]);var q=M;const H={class:"liste"};function T(e,o,t,r,a,l){const i=(0,n.up)("i-button"),s=(0,n.up)("Project");return(0,n.wg)(),(0,n.iD)("div",H,[(0,n.Wm)(i,{outline:"",color:"secondary",onClick:o[0]||(o[0]=e=>a.visible=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(t.project_name),1)])),_:1}),(0,n.Wm)(s,{modelValue:a.visible,"onUpdate:modelValue":o[1]||(o[1]=e=>a.visible=e),onDelete:l.deleteProject,project_name:t.project_name,project_description:t.project_description,project_id:t.project_id},null,8,["modelValue","onDelete","project_name","project_description","project_id"])])}const Y={key:0,class:"subparts"},Z=(0,n._)("h2",null,"Mes sous-parties :",-1),F=(0,n._)("br",null,null,-1),K=(0,n.Uk)("Ajouter une sous-partie"),E=(0,n._)("br",null,null,-1),L=(0,n.Uk)("Supprimer");function $(e,o,t,r,a,l){const i=(0,n.up)("Subpart"),s=(0,n.up)("i-input"),c=(0,n.up)("i-button"),u=(0,n.up)("i-form-group"),p=(0,n.up)("i-modal");return(0,n.wg)(),(0,n.j4)(p,{modelValue:e.visible,"onUpdate:modelValue":o[2]||(o[2]=o=>e.visible=o)},(0,n.Nv)({header:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(t.project_name),1)])),default:(0,n.w5)((()=>[(0,n.Uk)(" Description : "+(0,d.zw)(t.project_description)+" ",1),null!=l.checkProject[0]?((0,n.wg)(),(0,n.iD)("div",Y,[Z,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.checkProject,((e,o)=>((0,n.wg)(),(0,n.iD)("div",{class:"subpart",key:e},[(0,n.Wm)(i,{project_name:t.project_name,subpart_name:e.nameSubpart,project_id:t.project_id,subpart_id:o},null,8,["project_name","subpart_name","project_id","subpart_id"])])))),128))])):(0,n.kq)("",!0),F,(0,n.Wm)(u,{inline:""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{modelValue:a.nameSubpart,"onUpdate:modelValue":o[0]||(o[0]=e=>a.nameSubpart=e),placeholder:"Nom de la sous-partie..."},null,8,["modelValue"]),(0,n.Wm)(c,{color:"secondary",placement:"right",onClick:l.createSubpart},{default:(0,n.w5)((()=>[K])),_:1},8,["onClick"])])),_:1}),E,(0,n.Wm)(c,{color:"danger",onClick:o[1]||(o[1]=e=>l.deleteProject())},{default:(0,n.w5)((()=>[L])),_:1})])),_:2},[void 0!=a.pseudo?{name:"footer",fn:(0,n.w5)((()=>[(0,n.Uk)(" My Wool App - "+(0,d.zw)(a.pseudo),1)])),key:"0"}:void 0]),1032,["modelValue"])}const R=(0,n.Uk)("Aller"),B=(0,n.Uk)("Supprimer"),G=(0,n._)("p",null,"Ici c'est la sous partie !",-1),Q={key:0},X=(0,n.Uk)(" Motif : "),ee={id:"bloc"},oe={key:0},te=(0,n._)("br",null,null,-1),re=(0,n.Uk)("Ajouter un compteur"),ne=(0,n.Uk)("Nom :"),ae=(0,n.Uk)("Description du motif :"),le=(0,n.Uk)(" S pour simple (1 sur 1) "),ie=(0,n._)("br",null,null,-1),se=(0,n.Uk)(" A pour augmentation (2 sur 1) "),ce=(0,n._)("br",null,null,-1),ue=(0,n.Uk)(" R pour réduction (1 sur 2) "),pe=(0,n.Uk)(" Ajouter ");function de(e,o,t,r,a,l){const i=(0,n.up)("i-button"),s=(0,n.up)("i-button-group"),c=(0,n.up)("i-checkbox"),u=(0,n.up)("i-checkbox-group"),p=(0,n.up)("i-card"),m=(0,n.up)("i-modal"),h=(0,n.up)("i-form-label"),w=(0,n.up)("i-input"),g=(0,n.up)("i-form-group"),_=(0,n.up)("i-icon"),f=(0,n.up)("i-tooltip"),v=(0,n.up)("i-form");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Uk)((0,d.zw)(t.subpart_name)+" ",1),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{size:"sm",color:"secondary",onClick:o[0]||(o[0]=e=>{a.visible=!0,l.valueCounter()})},{default:(0,n.w5)((()=>[R])),_:1}),(0,n.Wm)(i,{size:"sm",color:"danger"},{default:(0,n.w5)((()=>[B])),_:1})])),_:1}),(0,n.Wm)(m,{modelValue:a.visible,"onUpdate:modelValue":o[2]||(o[2]=e=>a.visible=e)},(0,n.Nv)({header:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(t.project_name)+" - "+(0,d.zw)(t.subpart_name),1)])),default:(0,n.w5)((()=>[G,null!=a.counters[0]?((0,n.wg)(),(0,n.iD)("div",Q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.counters,((e,o)=>((0,n.wg)(),(0,n.j4)(p,{color:"secondary",size:"sm",key:e},{header:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(e.nameCounter),1)])),default:(0,n.w5)((()=>[X,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.compoCounter,(e=>((0,n.wg)(),(0,n.iD)("div",{id:"motif",key:e},(0,d.zw)(e.count+e.sequence+" "),1)))),128)),(0,n._)("div",ee,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.length,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.compoCounter,(e=>((0,n.wg)(),(0,n.j4)(u,{key:e,modelValue:a.checked[o],"onUpdate:modelValue":e=>a.checked[o]=e,inline:"",size:"sm"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(t),1),(0,n.Wm)(c,{onChange:e=>l.saveChecked(o),value:t},null,8,["onChange","value"])])),_:2},1032,["modelValue","onUpdate:modelValue"])))),128))])))),128))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.compoCounter,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n.Uk)((0,d.zw)(a.indexes[o]),1),"S"==e.sequence?((0,n.wg)(),(0,n.iD)("div",oe,[(0,n.Uk)((0,d.zw)(e.count*e.lengthSeq)+" ",1),(0,n.Wm)(c,{onChange:e=>l.saveChecked(o),value:a.indexes[o]},null,8,["onChange","value"])])):(0,n.kq)("",!0),(0,n.Uk)(" "+(0,d.zw)(e),1)])))),128))])),_:2},1024)))),128))])):(0,n.kq)("",!0),te,(0,n.Wm)(i,{onClick:o[1]||(o[1]=e=>a.addCounter=!0),color:"secondary"},{default:(0,n.w5)((()=>[re])),_:1})])),_:2},[void 0!=a.pseudo?{name:"footer",fn:(0,n.w5)((()=>[(0,n.Uk)(" My Wool App - "+(0,d.zw)(a.pseudo),1)])),key:"0"}:void 0]),1032,["modelValue"]),(0,n.Wm)(m,{modelValue:a.addCounter,"onUpdate:modelValue":o[5]||(o[5]=e=>a.addCounter=e)},(0,n.Nv)({header:(0,n.w5)((()=>[(0,n.Uk)(" Ajouter un compteur dans "+(0,d.zw)(t.project_name)+" - "+(0,d.zw)(t.subpart_name),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(v,{onSubmit:l.onSubmit},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{inline:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[ne])),_:1}),(0,n.Wm)(w,{modelValue:a.nameCounter,"onUpdate:modelValue":o[3]||(o[3]=e=>a.nameCounter=e),placement:"right",placeholder:"Nom du compteur..."},null,8,["modelValue"])])),_:1}),(0,n.Wm)(g,{id:"form"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[ae])),_:1}),(0,n.Wm)(f,{placement:"right",size:"sm"},{body:(0,n.w5)((()=>[le,ie,se,ce,ue])),default:(0,n.w5)((()=>[(0,n.Wm)(_,{name:"ink-info"})])),_:1}),(0,n.Wm)(w,{modelValue:a.compoCounter,"onUpdate:modelValue":o[4]||(o[4]=e=>a.compoCounter=e),placeholder:"Composition du motif..."},null,8,["modelValue"])])),_:1}),(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{type:"submit",loading:a.loading},{default:(0,n.w5)((()=>[pe])),_:1},8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:2},[void 0!=a.pseudo?{name:"footer",fn:(0,n.w5)((()=>[(0,n.Uk)(" My Wool App - "+(0,d.zw)(a.pseudo),1)])),key:"0"}:void 0]),1032,["modelValue"])],64)}var me={name:"Subpart",props:{project_name:String,subpart_name:String,project_id:Number,subpart_id:Number},data(){return{pseudo:localStorage.pseudo,visible:!1,addCounter:!1,nameCounter:"",compoCounter:"",loading:!1,counters:this.checkCounters(),compositions:this.valueCounter(),checked:{},indexes:{}}},created(){let e=JSON.parse(JSON.stringify(this.checked)),o=JSON.parse(JSON.stringify(this.counters));for(let r=0;r<o.length;r++){e[r]=[];for(let t=1;t<=o[r].current;t++)e[r].push(t)}var t=Object.keys(e).length;console.log(t);for(let r=0;r<t;r++){this.indexes[r]=[];for(let e=1;e<=o[r].length;e++)this.indexes[r].push(e)}this.checked=e},methods:{saveChecked(e){let o=JSON.parse(JSON.stringify(this.checked));var t=JSON.parse(JSON.stringify(this.counters[e]));let r=1;t.current=Math.max(...o[e]),o[e]=[];while(t.current>=r)o[e].push(r),r++;this.checked[e]=o[e],this.counters[e]=t;let n=localStorage.getItem("project_"+this.project_id);n=JSON.parse(n),n.subparts[this.subpart_id].counters=this.counters,localStorage.setItem("project_"+this.project_id,JSON.stringify(n)),console.log(t.compoCounter)},valueCounter(){var e="project_"+this.project_id,o=JSON.parse(localStorage.getItem(e)),t=o.subparts[this.subpart_id].counters;this.compositions=t},checkCounters(){var e="project_"+this.project_id,o=JSON.parse(localStorage.getItem(e));return this.counters=o.subparts[this.subpart_id].counters,o.subparts[this.subpart_id].counters},onSubmit(){var e={nameCounter:this.nameCounter,compoCounter:this.compoCounter,current:0},o="project_"+this.project_id,t=JSON.parse(localStorage.getItem(o)),r=t.subparts[this.subpart_id].counters;console.log(r),r.push(e),console.log(r),t.subparts[this.subpart_id].counters=r,localStorage.setItem(o,JSON.stringify(t)),this.checkCounters(),this.loading=!0,setTimeout((()=>{this.loading=!1,this.nameCounter="",this.compoCounter=""}),2e3),this.compositions.forEach((e=>{console.log(e.compoCounter);let o=e.compoCounter.replaceAll(" ","");o=o.split(","),o=o.map((e=>{let o=parseInt(e[0],10);return{count:o||1,sequence:e.slice(isNaN(o)?0:1)}})),e.compoCounter=o,o=o.map((e=>{let o=e["sequence"].replaceAll("S","1").replaceAll("A","2").replaceAll("R","1").split("").map((e=>parseInt(e,10))).reduce(((e,o)=>e+o));return e.lengthSeq=o,e}));let t=o.map((e=>{let o=e["sequence"].replaceAll("S","1").replaceAll("A","2").replaceAll("R","1").split("").map((e=>parseInt(e,10))).reduce(((e,o)=>e+o));return e["count"]*o})).reduce(((e,o)=>e+o));e.compoCounter=o,e.length=t})),this.counters=this.compositions}}};const he=(0,j.Z)(me,[["render",de]]);var we=he,ge={name:"Project",components:{Subpart:we},data(){return{pseudo:localStorage.pseudo,nameSubpart:""}},props:{project_name:String,project_description:String,project_id:Number},methods:{close(){this.$emit("close")},deleteProject(){localStorage.removeItem("project_"+this.project_id),this.$emit("delete")},createSubpart:function(){var e="project_"+this.project_id,o={nameSubpart:this.nameSubpart,counters:[]},t=JSON.parse(localStorage.getItem(e)),r=t.subparts;r.push(o),t.subparts=r,localStorage.setItem(e,JSON.stringify(t))}},computed:{validatedFields:function(){return!0},checkProject(){var e=JSON.parse(localStorage.getItem("project_"+this.project_id));return e.subparts}}};const _e=(0,j.Z)(ge,[["render",$]]);var fe=_e,ve={name:"Liste",props:{project_name:String,project_description:String,project_id:Number},components:{Project:fe},data(){return{visible:!1}},methods:{deleteProject(){this.$emit("delete",this.project_id)}}};const je=(0,j.Z)(ve,[["render",T]]);var be=je,ke={components:{Modal:q,Liste:be},computed:{checkProjects(){var e=[],o=0;while(localStorage.count>=o){var t=JSON.parse(localStorage.getItem("project_"+o));null!=t&&e.push(t),o++}return this.allProjects=e,this.allProjects}},data(){return{nbProjects:0,isProjectVisible:!1,allProjects:ye,visible:!1}},created(){},methods:{visibilityHidden(e){var o=document.getElementById(e);o.style.display="none"},showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1;var e=[],o=0;while(localStorage.count>=o){var t=JSON.parse(localStorage.getItem("project_"+o));null!=t&&e.push(t),o++}this.allProjects=e}}},ye=[],Se=0;while(localStorage.count>=Se){var Ce=JSON.parse(localStorage.getItem("project_"+Se));null!=Ce&&ye.push(Ce),Se++}const Pe=(0,j.Z)(ke,[["render",I]]);var De=Pe;function Ue(e,o){return(0,n.wg)(),(0,n.iD)("h1",null,"A propos")}const Ve={},We=(0,j.Z)(Ve,[["render",Ue]]);var Ie=We;const Oe={class:"card"},Ne={key:0,class:"card__title"},Ae={key:1,class:"card__title"},xe={key:2,class:"card__subtitle"},ze=(0,n.Uk)("Tu n'as pas encore de compte ? "),Je={key:3,class:"card__subtitle"},Me=(0,n.Uk)("Tu as déjà un compte ? "),qe={class:"form-row"},He={key:4,class:"form-row"},Te={class:"form-row"},Ye={key:5,class:"form-row"},Ze={key:6,class:"form-row"},Fe={key:7,class:"form-row"},Ke={class:"form-row"},Ee={key:0},Le={key:1},$e={key:0},Re={key:1};function Be(e,o,t,a,l,i){return(0,n.wg)(),(0,n.iD)("div",Oe,["login"==l.mode?((0,n.wg)(),(0,n.iD)("h1",Ne,"Connexion")):((0,n.wg)(),(0,n.iD)("h1",Ae,"Inscription")),"login"==l.mode?((0,n.wg)(),(0,n.iD)("p",xe,[ze,(0,n._)("span",{class:"card__action",onClick:o[0]||(o[0]=e=>i.switchToCreateAccount())},"Créer un compte")])):((0,n.wg)(),(0,n.iD)("p",Je,[Me,(0,n._)("span",{class:"card__action",onClick:o[1]||(o[1]=e=>i.switchToLogin())},"Se connecter")])),(0,n._)("div",qe,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>l.email=e),class:"form-row__input",type:"text",placeholder:"Adresse mail"},null,512),[[r.nr,l.email]])]),"create"==l.mode?((0,n.wg)(),(0,n.iD)("div",He,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>l.pseudo=e),class:"form-row__input",type:"text",placeholder:"Pseudo"},null,512),[[r.nr,l.pseudo]])])):(0,n.kq)("",!0),(0,n._)("div",Te,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>l.password=e),class:"form-row__input",type:"password",placeholder:"Mot de passe"},null,512),[[r.nr,l.password]])]),"create"==l.mode?((0,n.wg)(),(0,n.iD)("div",Ye,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>l.confirmpassword=e),class:"form-row__input",type:"password",placeholder:"Confirmer mot de passe"},null,512),[[r.nr,l.confirmpassword]])])):(0,n.kq)("",!0),"login"==l.mode&&"error_login"==e.status?((0,n.wg)(),(0,n.iD)("div",Ze," Adresse mail et/ou mot de passe invalide ")):(0,n.kq)("",!0),"create"==l.mode&&"error_create"==e.status?((0,n.wg)(),(0,n.iD)("div",Fe," Adresse mail déjà utilisée ")):(0,n.kq)("",!0),(0,n._)("div",Ke,["login"==l.mode?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:o[6]||(o[6]=e=>i.login()),class:(0,d.C_)(["button",{"button--disabled":!i.validatedFields}])},["loading"==e.status?((0,n.wg)(),(0,n.iD)("span",Ee,"Connexion en cours...")):((0,n.wg)(),(0,n.iD)("span",Le,"Connexion"))],2)):((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:o[7]||(o[7]=e=>i.createAccount()),class:(0,d.C_)(["button",{"button--disabled":!i.validatedFields}])},["loading"==e.status?((0,n.wg)(),(0,n.iD)("span",$e,"Création en cours...")):((0,n.wg)(),(0,n.iD)("span",Re,"Créer mon compte"))],2))])])}var Ge=t(9669),Qe=t.n(Ge);const Xe={headers:{"Content-Type":"application/x-www-form-urlencoded"}};var eo={data(){return{mode:"login",email:"",pseudo:"",password:"",confirmpassword:""}},computed:{validatedFields:function(){return"create"==this.mode?""!=this.email&&""!=this.pseudo&&""!=this.password&&""!=this.confirmpassword:""!=this.email&&""!=this.password}},methods:{switchToCreateAccount:function(){this.mode="create"},switchToLogin:function(){this.mode="login"},createAccount:function(){var e=new FormData;e.append("pseudo",this.pseudo),e.append("email",this.email),e.append("password",this.password),e.append("confirmpassword",this.confirmpassword),Qe().post("http://api-wool.just-kiel.fr/router/adduser",e,Xe).then((function(e){console.log(e),console.log(e.data)})).catch((function(e){console.log(e)}))},login:function(){var e=new FormData;e.append("email",this.email),e.append("password",this.password),Qe().post("http://api-wool.just-kiel.fr/router/connect",e,Xe).then((function(e){console.log(e),localStorage.setItem("userID",e.data.userID),localStorage.setItem("pseudo",e.data.pseudo),localStorage.setItem("email",e.data.mail),window.location.href="/profile"})).catch((function(e){console.log(e)}))}}};const oo=(0,j.Z)(eo,[["render",Be],["__scopeId","data-v-26dbbe6b"]]);var to=oo;const ro={class:"card"},no=(0,n._)("h1",{class:"card__title"},"Espace Perso",-1),ao=(0,n._)("p",{class:"card__subtitle"},"Voilà donc qui je suis...",-1),lo={class:"form-row"};function io(e,o,t,r,a,l){return(0,n.wg)(),(0,n.iD)("div",ro,[no,ao,(0,n._)("p",null,(0,d.zw)(a.pseudo)+" "+(0,d.zw)(a.email),1),(0,n._)("div",lo,[(0,n._)("button",{onClick:o[0]||(o[0]=e=>l.logout()),class:"button"}," Déconnexion ")])])}var so={name:"Profile",data(){return{pseudo:localStorage.pseudo,email:localStorage.email}},methods:{logout:function(){localStorage.clear(),window.location.href="/"}}};const co=(0,j.Z)(so,[["render",io]]);var uo=co;function po(e,o){return(0,n.wg)(),(0,n.iD)("h1",null,"Erreur 404")}const mo={},ho=(0,j.Z)(mo,[["render",po]]);var wo=ho;const go=[{name:"Home",path:"/my-wool-app/",component:De,meta:{title:"Accueil"}},{name:"About",path:"/my-wool-app/about",component:Ie,meta:{title:"A propos"}},{name:"Login",path:"/my-wool-app/login",component:to,meta:{title:"Se connecter"}},{name:"Not Found",path:"/:pathMatch(.*)",component:wo,meta:{title:"Erreur 404"}},{name:"Profile",path:"/my-wool-app/profile",component:uo,meta:{title:"Profil"},props:!0}],_o=(0,P.p7)({history:(0,P.PO)(),routes:go});_o.afterEach(((e,o)=>{document.title=e.meta.title}));var fo=_o,vo=t(7226);(0,r.ri)(C).use(fo).use(vo.O$,{components:vo.wx}).mount("#app")}},o={};function t(r){var n=o[r];if(void 0!==n)return n.exports;var a=o[r]={exports:{}};return e[r](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(o,r,n,a){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var i=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(t.O).every((function(e){return t.O[e](r[s])}))?r.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(u--,1);var c=n();void 0!==c&&(o=c)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(o){return 0===e[o]};var o=function(o,r){var n,a,l=r[0],i=r[1],s=r[2],c=0;if(l.some((function(o){return 0!==e[o]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(s)var u=s(t)}for(o&&o(r);c<l.length;c++)a=l[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},r=self["webpackChunkmy_wool_app"]=self["webpackChunkmy_wool_app"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(3367)}));r=t.O(r)})();
//# sourceMappingURL=app.447770be.js.map